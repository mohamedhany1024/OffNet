(self.webpackChunkeuronews=self.webpackChunkeuronews||[]).push([[179],{95785:()=>{if(null!==document.querySelector(".js-accordion-link")){let e=document.querySelectorAll(".js-accordion-link");for(let t of e)t.addEventListener("click",(function(e){e.preventDefault();const t=e.target.closest(".js-accordion"),n=document.getElementsByClassName("list-open");Array.from(n).forEach((function(e){e!==t&&e.classList.remove("list-open")})),t.classList.add("list-open")}))}},61727:(e,t,n)=>{"use strict";n.r(t);var o=n(12546);function s(e,t){const n=document.getElementsByClassName(e);Array.from(n).forEach((function(e){e.classList.toggle(t)}))}function r(e,t){let n=document.getElementsByClassName(e);Array.from(n).forEach((function(e){e.classList.contains(t)||e.classList.add(t)}))}let i=document.getElementsByClassName("js-programs_links");Array.from(i).forEach((function(e){e.addEventListener("click",(function(e){e.preventDefault();let t=document.querySelector(".js-programs-menu");if(null!==t&&(0,o.Z)(t),s("js-programs-menu","u-hide-for-all"),document.body.classList.toggle("program-menu-open"),r("js-menu-live-open","u-hide-for-all"),document.body.hasAttribute("data-program")&&document.body.dataset.program.length){const e=document.body.data("program"),t=document.getElementsByClassName("js-menu-program-"+e);Array.from(t).forEach((function(e){e.classList.add("u-link-is-active")}))}}),!1)}));const l=document.getElementById("js-menu-live-desktop");null!==l&&l.addEventListener("click",(function(){s("js-menu-live-open","u-hide-for-all"),r("js-programs-menu","u-hide-for-all")}));let a=document.getElementsByClassName("js-menu-more");Array.from(a).forEach((function(e){e.addEventListener("click",(function(e){e.preventDefault(),s("c-menu-more","u-hide-for-all"),r("js-programs-menu","u-hide-for-all"),r("js-menu-live-open","u-hide-for-all")}))})),document.addEventListener("click",(function(e){const t=e.target.closest(".js-programs-menu"),n=e.target.closest(".js-programs_links");if(null===n&&null===t&&(r("js-programs-menu","u-hide-for-all"),document.body.classList.remove("program-menu-open")),null!==n&&null!==t){const e=document.getElementsByClassName("js-programs-menu");Array.from(e).forEach((function(e){e.classList.add("u-hide-for-all")})),document.body.classList.add("u-hide-for-all")}const o=e.target.closest("#js-menu-live-desktop"),s=e.target.closest(".js-menu-live-open");null===o&&null===s&&r("js-menu-live-open","u-hide-for-all");const i=e.target.closest(".js-menu-more"),l=e.target.closest(".c-menu-more");null===i&&null===l&&r("c-menu-more","u-hide-for-all");const a=e.target.closest("#hamburger-menu");if(null===e.target.closest("#toggle-menu")&&null===a){let e=document.getElementById("hamburger-menu");null!==e&&e.classList.remove("show-menu");let t=document.getElementById("hamburger-button");null!==t&&t.classList.remove("open")}}));let c,d,u=!0;window.addEventListener("scroll",(function(){let e,t=document.getElementById("js-article-header-pc"),n=document.getElementById("enw-main-content"),o=document.getElementById("js-section-pc"),s=document.querySelector(".c-site-header"),r=document.querySelector("#js-leaderboard-top");if(d=window.pageYOffset,s&&(e=document.body.classList.contains("is-partner-content")?null!=r?"fixed"==window.getComputedStyle(s).position?r.clientHeight+t.clientHeight+parseInt(window.getComputedStyle(o).marginTop)+parseInt(window.getComputedStyle(o).paddingTop):r.clientHeight+t.clientHeight+parseInt(window.getComputedStyle(n).marginTop)+parseInt(window.getComputedStyle(o).marginTop)+parseInt(window.getComputedStyle(o).paddingTop)+s.clientHeight:t.clientHeight+parseInt(window.getComputedStyle(n).marginTop)+parseInt(window.getComputedStyle(o).marginTop)+parseInt(window.getComputedStyle(o).paddingTop)+s.clientHeight:null!=r?r.clientHeight+s.clientHeight:s.clientHeight),window.scrollY>e&&u&&document.body.classList.add("sticky-header"),document.body.classList.contains("sticky-header")&&document.body.classList.contains("is-partner-content")&&u)if(c>d){document.body.classList.remove("is-scrolling-down");const e=document.querySelector(".c-article-pc-disclaimer-site-header .js-tooltip");e.classList.contains("u-is-visible")&&e.classList.remove("u-is-visible")}else c<d&&document.body.classList.add("is-scrolling-down");c=d,window.scrollY<e-1&&document.body.classList.contains("sticky-header")&&(document.body.classList.remove("sticky-header"),u=!1,setTimeout((()=>{u=!0}),100))}),{passive:!0})},50417:()=>{const e=document.getElementsByClassName("js-menu-language"),t=document.getElementsByClassName("js-menu-language__btn");Array.from(t).forEach((e=>{e.addEventListener("click",(()=>{e.nextElementSibling.classList.toggle("u-hide-for-all")}))})),document.addEventListener("click",(t=>{Array.from(e).forEach((e=>{e.contains(t.target)||null===e.querySelector(".js-menu-language__list:not(.u-hide-for-all)")||e.querySelector(".js-menu-language__list").classList.add("u-hide-for-all")}))}));const n=document.querySelector(".js-languageSelect-menu-burger .js-languageSelect");n&&n.addEventListener("input",(e=>{var t;t=e.target.options[e.target.selectedIndex],document.location.href=t.value}),!1)},33947:(e,t,n)=>{"use strict";var o=n(1399),s=n(16752);if(void 0===window.app){const e=o.Z.getInstance();window.app=e.oldApp;const t=document.querySelector(".swiper-slide-active")||document;e.init(t).then((e=>{window.newApp=e,console.debug("App loaded")}))}(()=>{n(50417),n(61727);const e=document.getElementById("timeline_bar");if(e){new s.Z({rootMarginBottom:300,rootMarginTop:300}).onceVisible(e,(()=>{Promise.all([n.e(4451),n.e(4218)]).then(n.bind(n,97115)).then((e=>{let{default:t}=e;new t("#timeline_bar").setComponentConfig({tagName:"timeline-article",template:"#timeline-bar-template"}).buildComponent()}))}))}n.e(7969).then(n.bind(n,57969)).then((e=>{let{default:t}=e;new t}));let t=["#sticky-allviews","#static-allviews","#swiperElection","#swiper-top-video-playlist"],o=document.querySelectorAll("[data-carousel]");for(const s of o){let e=`#${s.getAttribute("id").toString()}`;-1===t.indexOf(e)&&(Promise.all([n.e(1053),n.e(7641)]).then(n.bind(n,77641)).then((t=>{let{default:n}=t;new n(e)})),window.dispatchEvent(new Event(`carousel-${e}-ready`)));let o=s.querySelector(".swiper-pagination");null!==o&&null!==o.querySelector(".swiper-pagination-bullet")&&(o.style.display="none")}n(95785)})()},1399:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var o=n(22602),s=n(11537),r=n(71148),i=n(50412);class l{constructor(){this._logger=new s.Z("App.ts"),this._contexts=l.resolveContexts(),this.oldApp=new i.default}static getInstance(){return l._instance?l._instance:l.newInstance()}static newInstance(){return l._instance=new l,l._instance}static get logger(){return l._instance._logger}static get contexts(){return l._instance._contexts}static get instance(){return l._instance}get logger(){return this._logger}get contexts(){return this._contexts}async init(){this.logger.debug("App: Initializing..."),this.logger.debug("App: Current env is prod");const e=[];for(const t of this.contexts)this.logger.debug(`   => loading context ${t}...`),e.push(this.loadContext(t));return await Promise.all(e),this.logger.debug("App: Contexts initialized ✅"),this.logger.debug("=================================================="),(0,o.getAppContainer)().logDependencyGraph(),this.logger.debug("=================================================="),this}async reset(){this.logger.debug("App: Resetting...");const e=[];for(const t of this.contexts)this.logger.debug(`   => resetting context ${t}...`),e.push(this.reloadContext(t));return await Promise.all(e),this.logger.debug("App: Contexts reloaded ✅"),this.logger.debug("=================================================="),(0,o.getAppContainer)().logDependencyGraph(),this.logger.debug("=================================================="),this}static hasContext(e){return l.contexts.includes(e)}async loadContext(e){this.oldApp.loadByContextName(e);try{await this.getContextService(e)}catch(t){return"string"==typeof t?this.logger.warn(`Cannot load context "${e}": ${t}`):this.logger.error("CRITICAL",{error:t})}}async reloadContext(e){try{await this.getContextService(e)}catch(t){return"string"==typeof t?this.logger.warn(`Cannot reload context "${e}": ${t}`):this.logger.error("CRITICAL",{error:t})}try{const t=(0,o.getContextToken)(e);await(0,o.getAppContainer)().reset(t)}catch(t){let n=`Error while reloading context "${e}": `;"string"==typeof t?n+=t:t instanceof Error&&(n+=t.message),this.logger.error(n,{error:t})}}async getContextService(e){const t=(0,o.getContextToken)(e);try{const e=await(0,o.getAppContainer)().resolve(t,this);return e?function(e){return e instanceof r.Z}(e)?e:Promise.reject(`Service "${t}" is not an instance of AbstractContext`):Promise.reject(`Service "${t}" cannot be resolved. Reason should be logged above ^^^^^^`)}catch(n){return Promise.reject(`Service "${t}" not found in AppContainer. Ignore this warning if context has not yet been moved to AppContainer.ts`)}}static resolveContexts(){let e=[];try{const t=document.head.querySelector("meta[name=app-contexts]")||{};t.content&&(e=[...e,...JSON.parse(t.content||"[]")])}catch(t){l.logger.error("error while parsing meta[name=app-contexts].content")}return e}}l.isProduction=/^[a-z]*\.?euronews\.com$/.test(window.location.hostname);const a=l},71148:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var o=n(10322);class s extends o.Z{}}},e=>{e.O(0,[4772,3715,2602,412],(()=>{return t=33947,e(e.s=t);var t}));e.O()}]);